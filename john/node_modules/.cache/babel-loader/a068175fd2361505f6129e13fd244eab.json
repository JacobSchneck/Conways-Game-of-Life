{"ast":null,"code":"import _toConsumableArray from\"/home/jschneck/programming_projects/JavaScriptProjects/Conways-Game-of-Life/john/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/jschneck/programming_projects/JavaScriptProjects/Conways-Game-of-Life/john/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useCallback,useRef,useState}from\"react\";import Board from\"./components/Board\";import\"./App.css\";import RunSimulation from\"./components/Controls/RunSimulation\";import SelectSpeed from\"./components/Controls/SelectSpeed\";import GraphButton from\"./components/Controls/GraphButton\";import ClearBoard from\"./components/Controls/ClearBoard\";import{getNextState}from\"./utils\";import Graph from\"./components/Graph\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),run=_useState2[0],setRun=_useState2[1];var _useState3=useState(\"Slow\"),_useState4=_slicedToArray(_useState3,2),speed=_useState4[0],setSpeed=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showGraph=_useState6[0],setShowGraph=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),iteration=_useState8[0],setIteration=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),cellsAlive=_useState10[0],setCellsAlive=_useState10[1];var _useState11=useState(Array(50).fill(Array(75).fill(0))),_useState12=_slicedToArray(_useState11,2),grid=_useState12[0],setGrid=_useState12[1];var _useState13=useState([0]),_useState14=_slicedToArray(_useState13,2),iterationArray=_useState14[0],setIterationArray=_useState14[1];var _useState15=useState([0]),_useState16=_slicedToArray(_useState15,2),cellsAliveArray=_useState16[0],setCellsAlliveArray=_useState16[1];var runRef=useRef(run);runRef.current=run;var speedRef=useRef(speed);speedRef.current=speed;var runGame=useCallback(function(){if(!runRef.current){return;}// HACK: jank but it works \nsetGrid(function(g){var _getNextState=getNextState(g),nextGrid=_getNextState.nextGrid,nextCellsAlive=_getNextState.nextCellsAlive;setCellsAlive(nextCellsAlive);setCellsAlliveArray(function(cellsAliveArray){return[].concat(_toConsumableArray(cellsAliveArray),[nextCellsAlive]);});return nextGrid;});setIteration(function(i){return i+1;});// why does this update everytime but setIteration(i + 1) does not?\nsetIterationArray(function(iterationArray){return[].concat(_toConsumableArray(iterationArray),[iteration]);});switch(speedRef.current){case\"Slow\":setTimeout(runGame,1000);break;case\"Medium\":setTimeout(runGame,500);break;case\"Fast\":setTimeout(runGame,250);break;case\"Brrr\":setTimeout(runGame,100);break;}},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"header\",{className:\"basic-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Conway's Game of Life\"})}),/*#__PURE__*/_jsx(Board,{grid:grid,setGrid:setGrid,iteration:iteration,cellsAlive:cellsAlive,setCellsAlive:setCellsAlive}),/*#__PURE__*/_jsx(\"header\",{className:\"basic-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Controls\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls-container\",children:[/*#__PURE__*/_jsx(RunSimulation,{run:run,setRun:setRun,runRef:runRef,runGame:runGame}),/*#__PURE__*/_jsx(ClearBoard,{setGrid:setGrid,setIteration:setIteration,setCellsAlive:setCellsAlive,setIterationArray:setIterationArray,setCellsAliveArray:setCellsAlliveArray}),/*#__PURE__*/_jsx(SelectSpeed,{speed:speed,setSpeed:setSpeed,speedRef:speedRef}),/*#__PURE__*/_jsx(GraphButton,{showGraph:showGraph,setShowGraph:setShowGraph})]}),/*#__PURE__*/_jsx(\"header\",{className:\"basic-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Graph\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"graph-container\",children:/*#__PURE__*/_jsx(Graph,{iterationArray:iterationArray,cellsAliveArray:cellsAliveArray,showGraph:showGraph})})]});};export default App;","map":{"version":3,"sources":["/home/jschneck/programming_projects/JavaScriptProjects/Conways-Game-of-Life/john/src/App.tsx"],"names":["useCallback","useRef","useState","Board","RunSimulation","SelectSpeed","GraphButton","ClearBoard","getNextState","Graph","App","run","setRun","speed","setSpeed","showGraph","setShowGraph","iteration","setIteration","cellsAlive","setCellsAlive","Array","fill","grid","setGrid","iterationArray","setIterationArray","cellsAliveArray","setCellsAlliveArray","runRef","current","speedRef","runGame","g","nextGrid","nextCellsAlive","i","setTimeout"],"mappings":"8UAAA,OAASA,WAAT,CAAsBC,MAAtB,CAAyCC,QAAzC,KAAyD,OAAzD,CAEA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,aAAP,KAA0B,qCAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,mCAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,mCAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,kCAAvB,CACA,OAASC,YAAT,KAA4C,SAA5C,CAEA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,C,wFAEA,GAAMC,CAAAA,GAAa,CAAG,QAAhBA,CAAAA,GAAgB,EAAM,CAC3B,cAAsBR,QAAQ,CAAU,KAAV,CAA9B,wCAAOS,GAAP,eAAYC,MAAZ,eACA,eAA0BV,QAAQ,CAAQ,MAAR,CAAlC,yCAAOW,KAAP,eAAcC,QAAd,eACA,eAAkCZ,QAAQ,CAAU,KAAV,CAA1C,yCAAOa,SAAP,eAAkBC,YAAlB,eACA,eAAkCd,QAAQ,CAAS,CAAT,CAA1C,yCAAOe,SAAP,eAAkBC,YAAlB,eACA,eAAoChB,QAAQ,CAAS,CAAT,CAA5C,0CAAOiB,UAAP,gBAAmBC,aAAnB,gBACA,gBAAwBlB,QAAQ,CAAcmB,KAAK,CAAC,EAAD,CAAL,CAAUC,IAAV,CAAeD,KAAK,CAAC,EAAD,CAAL,CAAUC,IAAV,CAAe,CAAf,CAAf,CAAd,CAAhC,2CAAOC,IAAP,gBAAaC,OAAb,gBACA,gBAA4CtB,QAAQ,CAAgB,CAAC,CAAD,CAAhB,CAApD,2CAAOuB,cAAP,gBAAuBC,iBAAvB,gBACA,gBAA+CxB,QAAQ,CAAgB,CAAC,CAAD,CAAhB,CAAvD,2CAAOyB,eAAP,gBAAwBC,mBAAxB,gBAEA,GAAMC,CAAAA,MAAM,CAAG5B,MAAM,CAAUU,GAAV,CAArB,CACAkB,MAAM,CAACC,OAAP,CAAiBnB,GAAjB,CACA,GAAMoB,CAAAA,QAAQ,CAAG9B,MAAM,CAAQY,KAAR,CAAvB,CACAkB,QAAQ,CAACD,OAAT,CAAmBjB,KAAnB,CAEA,GAAMmB,CAAAA,OAAO,CAAGhC,WAAW,CAAC,UAAM,CACjC,GAAI,CAAC6B,MAAM,CAACC,OAAZ,CAAqB,CACpB,OACA,CAED;AACAN,OAAO,CAAC,SAACS,CAAD,CAAO,CACd,kBAAmDzB,YAAY,CAACyB,CAAD,CAA/D,CAAOC,QAAP,eAAOA,QAAP,CAAiBC,cAAjB,eAAiBA,cAAjB,CACAf,aAAa,CAACe,cAAD,CAAb,CACAP,mBAAmB,CAAC,SAACD,eAAD,qCAAyBA,eAAzB,GAA0CQ,cAA1C,IAAD,CAAnB,CACA,MAAOD,CAAAA,QAAP,CACA,CALM,CAAP,CAOAhB,YAAY,CAAE,SAACkB,CAAD,QAAOA,CAAAA,CAAC,CAAG,CAAX,EAAF,CAAZ,CAA6B;AAC7BV,iBAAiB,CAAC,SAACD,cAAD,qCAAwBA,cAAxB,GAAwCR,SAAxC,IAAD,CAAjB,CAEA,OAASc,QAAQ,CAACD,OAAlB,EACC,IAAK,MAAL,CACCO,UAAU,CAACL,OAAD,CAAU,IAAV,CAAV,CACA,MACD,IAAK,QAAL,CACCK,UAAU,CAACL,OAAD,CAAU,GAAV,CAAV,CACA,MACD,IAAK,MAAL,CACCK,UAAU,CAACL,OAAD,CAAU,GAAV,CAAV,CACA,MACD,IAAK,MAAL,CACCK,UAAU,CAACL,OAAD,CAAU,GAAV,CAAV,CACA,MAZF,CAgBA,CAhC0B,CAgCxB,EAhCwB,CAA3B,CAkCA,mBACC,oCACC,eAAQ,SAAS,CAAC,cAAlB,uBACC,6CADD,EADD,cAMC,KAAC,KAAD,EACC,IAAI,CAAET,IADP,CAEC,OAAO,CAAEC,OAFV,CAGC,SAAS,CAAEP,SAHZ,CAIC,UAAU,CAAEE,UAJb,CAKC,aAAa,CAAEC,aALhB,EAND,cAaC,eAAQ,SAAS,CAAC,cAAlB,uBACC,gCADD,EAbD,cAkBC,aAAK,SAAS,CAAC,oBAAf,wBACC,KAAC,aAAD,EACC,GAAG,CAAET,GADN,CAEC,MAAM,CAAEC,MAFT,CAGC,MAAM,CAAEiB,MAHT,CAIC,OAAO,CAAEG,OAJV,EADD,cAOC,KAAC,UAAD,EACC,OAAO,CAAER,OADV,CAEC,YAAY,CAAEN,YAFf,CAGC,aAAa,CAAEE,aAHhB,CAIC,iBAAiB,CAAEM,iBAJpB,CAKC,kBAAkB,CAAEE,mBALrB,EAPD,cAcC,KAAC,WAAD,EACC,KAAK,CAAEf,KADR,CAEC,QAAQ,CAAEC,QAFX,CAGC,QAAQ,CAAEiB,QAHX,EAdD,cAmBC,KAAC,WAAD,EACC,SAAS,CAAEhB,SADZ,CAEC,YAAY,CAAEC,YAFf,EAnBD,GAlBD,cA0CC,eAAQ,SAAS,CAAC,cAAlB,uBACC,6BADD,EA1CD,cAgDE,YAAK,SAAS,CAAC,iBAAf,uBACC,KAAC,KAAD,EACC,cAAc,CAAES,cADjB,CAEC,eAAe,CAAEE,eAFlB,CAGC,SAAS,CAAEZ,SAHZ,EADD,EAhDF,GADD,CA2DA,CA5GD,CA+GA,cAAeL,CAAAA,GAAf","sourcesContent":["import { useCallback, useRef, useEffect, useState } from \"react\";\n\nimport Board from \"./components/Board\"\nimport \"./App.css\";\nimport RunSimulation from \"./components/Controls/RunSimulation\";\nimport SelectSpeed from \"./components/Controls/SelectSpeed\";\nimport GraphButton from \"./components/Controls/GraphButton\";\nimport ClearBoard from \"./components/Controls/ClearBoard\";\nimport { getNextState, NextStateType } from \"./utils\";\nimport Speed from \"./types/Speed\";\nimport Graph from \"./components/Graph\";\n\nconst App: React.FC = () => {\n\tconst [run, setRun] = useState<boolean>(false);\n\tconst [speed, setSpeed] = useState<Speed>(\"Slow\");\n\tconst [showGraph, setShowGraph] = useState<boolean>(false);\n\tconst [iteration, setIteration] = useState<number>(0);\n\tconst [cellsAlive, setCellsAlive] = useState<number>(0);\n\tconst [grid, setGrid] = useState<boolean[][]>(Array(50).fill(Array(75).fill(0)))\n\tconst [iterationArray, setIterationArray] = useState<Array<number>>([0]);\n\tconst [cellsAliveArray, setCellsAlliveArray] = useState<Array<number>>([0]);\n\n\tconst runRef = useRef<boolean>(run);\n\trunRef.current = run\n\tconst speedRef = useRef<Speed>(speed);\n\tspeedRef.current = speed;\n\n\tconst runGame = useCallback(() => {\n\t\tif (!runRef.current) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// HACK: jank but it works \n\t\tsetGrid((g) => {\n\t\t\tconst {nextGrid, nextCellsAlive }: NextStateType = getNextState(g);\n\t\t\tsetCellsAlive(nextCellsAlive);\n\t\t\tsetCellsAlliveArray((cellsAliveArray) => [...cellsAliveArray, nextCellsAlive]);\n\t\t\treturn nextGrid;\n\t\t});\n\n\t\tsetIteration( (i) => i + 1); // why does this update everytime but setIteration(i + 1) does not?\n\t\tsetIterationArray((iterationArray) => [...iterationArray, iteration]);\n\n\t\tswitch ( speedRef.current ) {\n\t\t\tcase \"Slow\":\n\t\t\t\tsetTimeout(runGame, 1000);\n\t\t\t\tbreak;\n\t\t\tcase \"Medium\":\n\t\t\t\tsetTimeout(runGame, 500);\n\t\t\t\tbreak;\n\t\t\tcase \"Fast\":\n\t\t\t\tsetTimeout(runGame, 250);\n\t\t\t\tbreak;\n\t\t\tcase \"Brrr\":\n\t\t\t\tsetTimeout(runGame, 100);\n\t\t\t\tbreak;\n\t\t}\n\n\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t<header className=\"basic-header\">\n\t\t\t\t<h1>\n\t\t\t\t\tConway's Game of Life\n\t\t\t\t</h1>\n\t\t\t</header>\n\t\t\t<Board \n\t\t\t\tgrid={grid} \n\t\t\t\tsetGrid={setGrid} \n\t\t\t\titeration={iteration} \n\t\t\t\tcellsAlive={cellsAlive}\n\t\t\t\tsetCellsAlive={setCellsAlive}\n\t\t\t/>\n\t\t\t<header className=\"basic-header\">\n\t\t\t\t<h1>\n\t\t\t\t\tControls\t\n\t\t\t\t</h1>\n\t\t\t</header>\n\t\t\t<div className=\"controls-container\">\n\t\t\t\t<RunSimulation \n\t\t\t\t\trun={run} \n\t\t\t\t\tsetRun={setRun} \n\t\t\t\t\trunRef={runRef} \n\t\t\t\t\trunGame={runGame} \n\t\t\t\t/>\n\t\t\t\t<ClearBoard \n\t\t\t\t\tsetGrid={setGrid} \n\t\t\t\t\tsetIteration={setIteration} \n\t\t\t\t\tsetCellsAlive={setCellsAlive}\n\t\t\t\t\tsetIterationArray={setIterationArray}\n\t\t\t\t\tsetCellsAliveArray={setCellsAlliveArray}\n\t\t\t\t/>\n\t\t\t\t<SelectSpeed \n\t\t\t\t\tspeed={speed}\n\t\t\t\t\tsetSpeed={setSpeed}\n\t\t\t\t\tspeedRef={speedRef}\n\t\t\t\t/>\n\t\t\t\t<GraphButton \n\t\t\t\t\tshowGraph={showGraph}\n\t\t\t\t\tsetShowGraph={setShowGraph}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<header className=\"basic-header\">\n\t\t\t\t<h1>\n\t\t\t\t\tGraph\t\n\t\t\t\t</h1>\n\t\t\t</header>\n\t\t\t{/* <div style={{background: \"rgb(250, 119, 119)\"}}> */}\n\t\t\t\t<div className=\"graph-container\">\n\t\t\t\t\t<Graph \n\t\t\t\t\t\titerationArray={iterationArray} \n\t\t\t\t\t\tcellsAliveArray={cellsAliveArray} \n\t\t\t\t\t\tshowGraph={showGraph} \n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t{/* </div> */}\n\t\t</div>\n\t)\n}\n\n\nexport default App;"]},"metadata":{},"sourceType":"module"}